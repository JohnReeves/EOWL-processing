from collections import Counter

# three symbols might be cooke & wheatstone telegraph symbols, who knows
# actually, i am saving the results after testing the hypothesis
# so i know it doesn't work, nevermind the code is pretty
text="""||/\| |\||/ ||/|| \|||/ ||\|/ ||||\ ||\/| ||/|| \|||| \/||| ||\/| /|||\ |/|\| |/||| |\||\ /|||/ \|||| /||\| |||\/ |/||| |\||| /\|/| |\||| /\||| ||||/ \||\/ ||/|| \||\/ ||||/ ||||\ |/\|| |||/\ |||/| |\||| \/||| ||\/| ||||\ /|||| /\||| /\||| /|\|\ |/||| |||/\ |/||\ |||/| |\||| \/||| ||\/| ||||\ //||| |\||| /\|/| |\||| |||\/ |/|\| |/||| |\||| |\/\| |/||| |||/\ \|/|| |/||| |\||\ /|||/ ||\|/ |||\| ||||/ \|||| \/|/| \|||| |\/|| |||\/ ||/|\ ||/\| |||/\ |||/| |||\| |||\/ /|||| \|/\| ||||| |/\|| |\/|| ||\/| |/||| \|||| /\||| /\||/ |||\| /||\| ||\/| ||||/ \|||/ |\||| |/\|/ |\||| ||||\ /|/|\ |||/| |\||| /\||| /||\| ||||\ /|/|\ ||||| |/\/| |\||\ |/||| |||\/ ||/|| \|/|| \|||| ||\/| |||/\ |||\/ |||/\ ||\|/ |||/| \|||/ |\||| |/\|| ||/|| \||/| ||\|| ||/\| ||/\| ||||\ /||\/ ||/|| ||\/| ||\|/ ||||\ |||/\ |/||\ ||||/ |\||| |/\|| |||\/ ||||/ \|||| /\\|/ ||||| \/||| /|||\ ||||/ \\|/| ||||| /\||| ||\/| |\/|| \||/| |||/| \||/| \||/| |||\/ ||\|| ||||\ /|/|\ ||||| |/\\| /|||/ |\||| |/|\| ||||| \/||/ |\||| ||\/| |\/|| /|||| \|||| \/|/| \|||/ ||\|| |\/|| ||||/ \/||| \||\| /|||| /|\|| |||/\ \|/|| ||||\ /|/|\ ||||| /|\|| \|/|| |/||\ ||||/ \|||| |\/|/ |\||| /||\| ||/|\ ||||/ \|||/ ||\|| ||/\| |\/|| ||/\| |/||| |\||| |\/|| /|\|| |||/\ |||/\ |||/| |\\|/ ||||| \/||| ||/\| ||/|\ ||||\ /||/| \|||/ ||\|/ ||\|| /|||\ |\||/ ||||| |/\\| /|||| |\/|| ||||/ \||\| /|||| /\|/| |\||| /||\| /|||| \||\/ ||/\| |||/| |||\| |||\/ |/||\ ||/|\ ||||| |/\|| \|/|| /||\| |\|/| ||/|| \|||\ /|||| ||\/| |/|\| ||/\| ||/|| \|||/ |\||| |\/|\ /|||| /|||| \|||\ /|||| \/||| /|\|| ||/\| /|\|| |/||| |\||| /\|/| |\||| |/|\| ||/\| |\|/| ||||| \/||| ||\/| /||\| |||\| /\/|| |||/\ |||/| |||\| |/|\| |||/\ ||||| \/|/| \|||/ ||\|| |\/|| \|/|| ||||\ /||/| |\||| |\/|| |||/\ ||||\ /|/|\ ||/|| ||\|| ||\/| |\|/| |/||\ |||/\ ||/|| ||\\| |/||| |/\|| ||||/ \|\|/ |||/| |\||| ||/\| ||/\| ||||\ /|||| /\||/ \|||| ||/\| |\/|| |/||\ |\/|| ||||\ /|||/ ||\|| ||\/| |||\/ |||/| \|||| /\|/| \|||| |/|\| |||\/ ||||\ /|\|/ ||||/ ||\|| ||\/| ||||\ /|/|\ |||/| |\|/| ||\|\ |/||| |/\|| ||/\| |||/| |\||| ||\/| ||\/| ||\|/ ||/|| \|||\ /|||/ ||\|| ||\/| |/|\| |||/| \|\/| |||\/ ||||| /||\| /||\| |||/| \|||| /\|/| ||\|| |||/\ |||\| /|/|| \|||| \/|\/ ||||/ ||||\ |/||| \/\|| |||/| |\|/| |\||| /||\| /||\| |/|\| |||/| |\||| ||\/| |||/\ |/||\ |/||\ ||/|\ ||||/ ||\|| |/|\| |||/\ ||||| \/|/| \|||/ ||\|| /|||\ ||\/| |/||| |\||| |\/|/ ||\|| ||\/| ||\|/ |||/| \|||| |\/|/ |\||| |||/\ |||/\ ||/|| \||/| ||\|| \/||/ ||||\ ||||\ /|/|| \||/| |\||| /\||\ /|||| ||||\ /||/| \||/| |\|/| |\||| |||/\ ||/|| \/||| |\|/\ ||||/ \|||/ |||\| \|/|| ||||| \/||| |\/|| \|/|| |||/\ |/|\| |\|/| ||||| /\|/| |\||| |\/|| |/||\ |/||\ ||||/ ||\|/ \|||/ ||||\ ||||\ /|||| \/|/| |\||| |/\|| /||\| /||\| |/||| \|||| |/\|| |\|/| /||\| |||\/ ||||| \/|/| \|||/ ||\|| ||\/| |/||\ |||\| /|||| |/\\| /|||| /\||| /||\| |/||| \||/| |\||| |/\|| /||\| |/||\ |/||\ |||/| |\|/| |\||| /\||| /|||| \|||| \/|/| |\||| \/||| |||\/ |/|\| ||/|| \|||\ /|||/ ||\|| |/\|| /|||| \||/| \|||| /\||| /|\|| ||/\| /|\|| ||/|| |\/|| ||\\/ ||||/ ||||\ |/||| \||/| \|||| |\/\| |/||| |/|\| |||/\ ||||| \/|/| \|||/ ||\|| /|||\ ||\/| |/||| |\||| |\/|/ ||\|| |\|/| /|||| \|||\ /|\|/ ||||| |\/|| /||\| /||\| |||/| |\||| |/\|| \/||| |||\/ |/|\| ||/|| \|||| \/||| /\||\ |/||| /|\|| |/|\| |||/\ ||||/ ||\|/ ||\|| /|\|| ||||| /\||| |/\/| |\||| ||\/| /|||\ |\|/| ||||| |\/|| \|/|| /|\|| /|||| \|||| \/||| |/\|| /||\| |||\/ |/|\| ||||| /\||| \/||/ ||\|/ |||\| \|/|| ||/\| |||/\ ||||/ ||\|| |||\/ |||\/ ||||| \/|/| \|||/ ||\|/ |||\| ||||/ \|||\ |/|/| |\||| |\/|| |/|\| |||/\ ||||| \/|/| \|||/ ||\|| |||/\ ||||\ /|/|\ |||/| |\||| \/||| /|||\ ||\/| |/||| |\||| |\/|/ ||\|| ||\/| |/||\ |/||| |\|/| ||\|/ |\||| /|||\ ||||/ \|||/ \|||| |\//| |||\| |/|\| |||/\ ||/|| \|/|| \|||| ||\/| |\|/| |/||\ ||||/ \|||| |\/\| |/||| |||\/ |/|\| |||\/ |||/| |\||/ ||\|\ /|||| /|||| \|/|| |\/\| ||||/ ||\|/ ||\|| ||||\ /||/| \|/|\ ||||/ |\||| |||\/ ||/|\ |||\| /|||/ |\||/ \|||| /\||| |||\/ ||/|| \|||| /\|/| |\||\ ||/|| ||||/ \\|/| ||/|| ||\|| |\/|/ \|||| |/||\ ||||| \/|/| ||\|/ |\||| |||/\ ||/|| \|||| \/|/| \|||/ ||\|/ ||||\ ||\/| |||\/ ||/|| ||\|| |/\|/ |\||| |/||\ |||/\ |||/| |\||| |/\|| |||\/ ||||\ /|/|\ ||||/ |\||| |\/|/ ||||\ ||/|| \|||| \/|/| |\||| \/||| ||/\| ||||/ \|||| /\||| /\||| \|/|| /|\|| ||/|\ ||/|| |\|/| \|||| /\||/ ||||\ /\||| ||/|| \|||| \/||| /|\|| |||\/ /|||| \\/|| ||\/| |||/| |||\| |\/|| |/||\ ||||/ \|||| |\/|| ||\/| /|\|| /|||| \|||| \/||| |\/|/ |\||| /||\| /|||\ ||||| /\||| \|/|/ ||\|| ||\/| |/||| \|||| /\\|/ ||||/ \|||/ ||\|| |/||\ |/||| |\||| \/||| /|\|| /\||| \||/| |/||| |\|/| ||\|/ |||\| /||\| \/||| ||||| \/||| |\/|/ |\||| |/|\| |||\/ ||||/ \|\|/ ||||| /\||/ |||\| |/||\ |||\/ ||||\ |/||/ |\||| /||\| |||/\ |/\|| ||/|| ||\|| ||\/| /||\| ||/|\ ||||/ \|||| \/|\/ ||||| /||\| |/||| \|||| \/|/| |\|/| |\||| |||\/ |/|\| ||/|| \|/|| |\||| ||/\| ||\|/ |/||\ ||||\ /|||| \/||/ |\||| /||\| ||/|| \|||| /\\|/ ||||| |/\|/ ||\|| ||||\ /|/|\ ||/|| ||\|| ||\/| /||\| /|||| \|/|| |\|/| \|||/ |||\| |||/\ |||/\ ||||| \//|| ||\|| /|\|| ||/\| |/||\ |/||\ ||||| |/\|| |/\|| /\||| \||/| ||||| \/||\ |/||/ ||\|| ||/\| ||||\ /\||/ ||||| |\/|| \|/|| |||/\ /|||\ |\|/| |||/\ ||||/ \|||| /||\| ||||\ /|||\ /|||| |/\|| |/\|| /|||\ |/||\ ||||| \/|/| \|||/ ||\|| /|||\ \|/|| ||||\ /|||| |\/|| ||/\| |/\|| |||\/ ||||| /\||/ ||\|| /||\| |/|\| |/||| \||/| \|/|| ||\|/ \|||| ||\/| |/|\| |/||| |\/|| \|||| \/||| /||\| |/\|| ||/|| \|/|| ||\|| |\/|| /||\| /||\| ||||| \/|/| \|||/ ||\|| ||\/| |/|\| |||/| \|\/| ||||| /\||| /||\| |||/\ ||||| \/||| \/||| ||/\| |/\|| |/||\ ||||| /\||| /\||/ ||\|| |\/|| |/||\ |||/\ ||||| |/\|\ |/||| /||\| /||\| ||||| \/|/| \|||/ ||\|| /|||\ ||||/ \|||/ \|||| |\/|| \/||/ ||||\ /|||\ |/||| |\||| /\|/| |\||/ ||||\ |||/\ |/||\ ||||\ /|||/ ||\|/ ||\|| ||/|\ ||||\ /|||| |\/|| \/||| |/|\| /|||\ |\|/| ||||| |\/|/ ||\|/ ||\|| ||||\ /|/|\ |||/| |\|/| |||\| |/\|| ||/\| |\|/| ||||| /\||| /|\|| |||\/ ||/|\ ||||| /\||| /\||| ||/\| ||/\| |/||\ |/||| \|\|/ ||||/ \|||| /\||| |/||\ ||||| \/||\ |/|/| |||\| ||\/| ||||\ //||| |\/\| ||||/ ||\|| ||/\| ||/|| \||\/ ||||| |/\|| /\||| /||\| /|||| \|/|| |\|/| \||/| ||\|| |||/\ |||\| //||| |\||| /\|/| |\||| |||\/ ||||/ \/|\| |||/| |\||| ||\/| /|\|| |/||\ |||\/ ||||| |\/|/ |\||| /||\| \||/| |||\| /||/| |\||| \/||| /||\| \/||| |/||| |\|/| ||\/\ ||||| /||\| /||\| |||/| \|||| /\||| ||\/| |||/\ ||||\ /|/|\ |||/| |\||| |/\|| |||/\ ||\|/ ||/|| \|||/ \||\/ ||||| |||\/ \||/| ||/|| |\||\ /||/| |||\| |||\/ |/||\ ||||| \/||\ |/||/ ||\|| ||/\| ||||\ /\||/ ||||| |\/|| \|/|| |||/\ /|||\ |\|/| |||/\ ||||/ \|||| /||\| ||||\ /|||\ /|||/ |\||| |/\|| /||\| /|||| \|/|| |\|/| \|||| ||/\| |/||\ ||/|| \|||| /\\|/ ||||| \/||| |||\/ |/|\| ||||| /\\|/ ||||| |\/|/ ||||\ |||/\ |/||\ ||||| \/||| /|\|| ||\|/ |/|\| |\|/| ||||| /\|/| |\||| |\/|| |/||\ |/||\ ||/|| |\||| ||/\| ||\|/ |/||\ ||||\ /|/|\ ||||| /|\|| \|/|| |/||\ ||||\ /|||| |\/|/ |\||| /||\| |||\/ |/||| |\||/ \|||/ ||\|| ||/\| \|/|| |||/\ ||/|| |\||/ ||\|| |\/|| /|||| \|||\ /|||| |\/|| \|/|| /||\| |||/\ ||||| \/\|| /|||| ||\/| /|\|| ||\/| ||/|| \||/| |\||| /|\|| ||/\| |/||\ |/||| |\|/| ||\|/ |\||| |||/\ ||/|| \||/| |\||| |/\\| /|||| |\/|| ||||\ /|/|\ ||||| |/\\| /|||| ||\/| /|||| \|||/ \|/|| \|||| /||\| |||/\ \|/|| |||\/ |||/| \||\| /|||| ||/\| /||\| |||\/ |||/| |\|/| |\||/ ||||\ |||/\ |/||\ ||||| \/||| ||/\| |||\/ |/|\| ||/|| \|/|| \|||/ ||\|| /|||\ |/||\ |\/|| ||||| |\/|| /|\|| |||/\ |||/\ |||\| /|/|| ||\|| |\/|| /|||\ ||||/ \||/\ ||\/| ||||/ \|||| /||\| ||||\ /|/|| \|||/ |\||| \|/|| |||/\ \|/|| ||/\| ||/|| \||\/ ||||| /||\| ||\/| ||/|\ ||/|| ||\\/ ||||| ||\/| |/|\| |/||| |\|\| /|||/ ||\|| |/\|| ||/|\ ||||\ /|||| \/||/ ||\|/ ||\|| ||||\ /|/|\ ||||/ |\||| |\/|| |/|\| ||/|| \||/| \|||| |\/|| \|/|| /||\| ||\/| ||/|| \|||| /\||| ||/\| |||\/ ||/|| \|||| /\||\ /|||| ||\/| /|\|| |/||\ ||/|| |\||| |/\|| /\||| |/\|| |/||\ ||||/ \|||| |\//| |||\/ |||\| ||||/ \\|/| ||||| |\/|| ||\/| /|\|| |/||\ |||\/ ||/|| ||\|| |/\|/ ||\|| ||||/ \||/\ ||||| |/\|| \/||| |/|\| |/||\ ||||/ \|||| |\//| |||\| |||\/ ||/|\ ||||| /\||| /\||| ||/\| |/||\ ||||\ /|/|\ |||/| |\|/| ||\|\ |/||| |/\|| ||/\| |||/| |\||| ||\/| ||\/| ||\|/ ||/|\ |||/| |\||| |/\|| |/|\| |||/\ ||||\ /|\/| ||||/ ||\|| /|||\ ||||\ /|/|| \|/|| \||/| ||\|\ ||/|| ||||\ /|/|\ |||/| |\||| \/||| /||\| |\|/| ||/|| \|||| /\|\| /|||| /||\| ||||/ \||/| |\||/ ||\|| /|\|| /|||\ |/||\ |||\/ ||||| \/||| ||\/| /|\|| ||/|\ ||||\ /|||\ |/|/| |||\| ||\/| |||\/ ||||| /\/|| ||\|| ||\/| |||/\ /||\| |/||\ ||||| \/||| \|/|| |/|\| ||||\ /|/|\ ||||| |\/|/ |\||| /||\| ||||/ \||\/ ||/|| \|||/ ||\|| |\/|| |/||\ |/||\ ||||| \/|/\ ||||| /||\| ||||\ /|/|| |\|/| \||\/ ||||| |\/|| ||||/ \|\|/ ||||/ |\|/| |\||| /||\| /||\| |||/| |\||| |/\|| \/||\ |/||| |||\/ |/||| \|\|| /||/\ ||||/ ||||\ ||||\ /|/|| \|||| |\/|/ |\||/ ||||\ ||||\ /||/| \|||| |\/|| \|/|/ ||||\ |||\/ |/||| |\\/| |||\/ ||||/ ||||\ ||\/| ||/|| \|||| /\||| ||\/| |||\/ |/|\| |/||| |\||| |\/|| |\/|| |||/\ ||/\| ||/|| \|||| |/\|| |/\|| /||\| |/|\| |/||| |\/|| \|||| ||\// ||||\ /\||| ||/|| \|||| /\||| ||\/| /|\|| |/||\ ||||| \/||\ /|||| ||/\\ |/||| /|||\ ||/\| |||/| |\||| ||\/| |||/\ |/||\ |||/\ ||\/| ||||| ||\/\ ||/|| /|||| \|/\| |||/\ ||||| ||\/| /|\|| |/||\ |/||| \|||| |/\|| |\|/| /||\| |||\/ |/||| |\||| /\|/| |\||| |||\/ ||||/ \||\/ |||/| |\|\/ ||||/ ||||\ |/||| \/\|| ||||| |\/|/ |\||| /||\| ||/\| |\|/| ||||| /\||| /||\| |||/\ ||\/| ||||| \/\|/ ||||| |/\|/ ||||\ ||||\ /|/|| \||/\ |||\| |/||| |/||\ ||||/ \||\/ ||||| |\/|/ |\||| /||\| ||/\| |/||| |\||| /\|/| |\||| |/||\ ||||/ \||\/ ||||| |\/\| /|||| ||/\| /|||| \|||| \/|/| |\||/ \|||\ ||/|| ||/|| \|||| /\||\ /||\| /|||| ||\/| ||||\ /|/|\ |||/| |\||| /|\|| |\/|| \/||| ||/|| \|||| /\||/ |||\| /|\|| /|||| \|||/ \|||| |\/|| /||\| |||/\ ||\/| ||||| /\||\ /||/| |\||| /||\| ||\/| ||||\ /|||/ |\|/| \|||| ||/\| /|||| \|/\| |||/\ ||||/ ||\|/ ||\|| ||\|/ ||/|\ ||/|| ||\|| ||\/| |||\/ |/|\| ||/|| \|\|| /|||/ |\||/ ||||\ /||\| |/||\ ||||| |/\|| |/\|| /||\| |||/\ ||||| /\||| /\||/ ||\|| |||/\ ||/|| \|||| \/|/| \|||| /|\|| ||\/| |/|\| ||/|| \||/\ |||\/ ||||| ||\/| \|/|| ||||\ /|||| |\/|| ||/\/ ||\|| |/||\ ||||| \/|/| |\||| \/||| |/\|| ||/|\ ||||/ \||/| |\||| ||\/| /|\|| |/||\ ||||| /\||\ /|||| /|\|/ |\||| ||/|\ ||||/ \|/|| ||\|/ \|||| /|||\ ||||/ \|||/ \|||| |\/|/ ||\|| ||/\| ||||\ /|||\ /|||| |/\|| /||\| |||\/ |/|\| ||/|| \|||| |/\|| ||\/| /|\|| |/||\ |||\/ |||/| ||\|| \/||/ ||||\ ||||\ /|/|| \|||| |\/|/ |\||| |||/\ \|/|| |/|\| |||/| \|||| /|\|| /|\|| /|||| \|\|/ |||/| |\||| /\||\ ||/|| |||\/ |\|/| ||||| \/|\/ ||||| |/|\| |/||| \||/| \|||| |/\|| |/\|| ||\/| ||\|/ ||/|\ ||||/ |\||/ |||\| /|\|| |/|\| |/||| |\|\| /|||/ ||\|/ |||\| |/||\ ||/|| \|||| /\|\/ ||||| |\/|| ||||/ \||/\ ||\/| ||||| ||\/| /||\| /||\| |/||| \|\|| /|||| ||\/| /|\|| |/||\ ||||\ /||/| |\||/ |||\| |||/\ |||/\ |/||\ ||||| /|\/| |||\| ||/\| \|/|| ||||\ /|\/| ||||| \/||| |||/\ |||/| \|/|| \||/| ||\|| ||\/| |/||\ ||/|\ ||/\| |||/| |\||| /|\|| /\||| |/||\ |/||| |\|\| /|||/ ||\|| |/|\| ||||\ /|||| \/||| |/\\| |/||| |||/\ \|/|| |/||| \|||| |/\|| ||\/| /|\|| ||||\ /|||| /\|/| ||\|| ||/\| ||/\| |||\/ |||/| \|/|| \|||/ ||\|| |\/|| ||/|\ ||||| \/||| \/||/ |||\| |||/\ |||/\ ||||| \/|/| |\||| |/\|| |||\/ |||\/ ||||| \/||| |/\|| |\/|| /||\| |/||\ |||/| \|||/ ||\\| |/||| |||/\ \|/|| |/||| |\||\ /|||/ ||\|/ ||\|| ||\/| |/||| |\||\ |/||| |/\|| |||\/ ||||/ \|||| \/|/| \|||/ ||\|| ||\/| /|||| \||/\ |||/| |\|/| |||\| /\||| /|||| \||\/ ||||/ \|||| /|\|| ||/\| /|\|| ||/|| |\||| |/\|| |/\|| /|||\ |/\|| |\|/| ||||| \/||| /|\|| |||/\ |||/\ |/||| |\||| \/|/| |||\| |/\|| ||/|\ |||\| /|||/ |\||| ||\/| /|\|| ||/\| |\||/ ||||/ ||\|| ||/\| ||/\| /||\| ||/|| \|||| \/||| ||\/| |\/|| |/||\ |/|\| ||/|| ||\|| \/||/ ||\|| |||\/ |/||| |\/|| \||/| |||\| /\||| ||||/ \|\|/ |||/| |\||/ \|||/ ||||\ |/||| \|/|| \|\/| ||||| |\/|| |/|\| ||\/| ||/|| \|/|| ||\|/ \|||| |/|\| |||\/ ||/|| \|||| /\||| ||/\| |\|/| ||||\ /|/|\ ||/|| ||\|| ||\/| |/|\| |||\/ ||/|\ ||||| |/\\| /|||| /\||| /||\| ||/|\ ||/|| ||\|\ |/||| /||\| ||||\ //||| |\/\| ||||/ ||\|| ||/\| |/||| \/||| |\||\ /|||/ ||\|| |||\/ ||||/ \|/|| \|||| /\||/ |||\\ ||/|| \/||| ||/|\ |||/| |\||| \/||| |||\/ |/|\| |||/| \|||| \/||| /\||| /||\| |||\/ ||||\ /|/|| ||\/| \|||| /||\| /|||\ ||/|| \|||/ ||\|| ||/\| |\/|| |/||\ ||/|| \|||| /\||/ |||\| |||/\ /||\| |||/| \|||| /\|/| \|||| |/|\| ||||\ /|||| /\||| /\||| ||\/| /|\|| |/||\ ||||/ \||/| |\||| \|/|| |||\/ |/||\ ||/\| |||/| |\|/| \|||| |\/|| /|||| \\/|| |||/| \||\| |/||| ||\/| \||/| ||||\ /|||| |\/|/ ||\|| |/\|| |/|\| ||||| /\||\ |/||/ ||\|| \|/|| |/||\ |||\/ ||/|\ ||||| /|\|| \|/|| |/||\ ||||/ \|||| |\/|/ |\||| /||\| \|/|| |||\/ ||/|\ ||||/ ||\|| ||/\| |/||| \\||/ ||||| |/\|| /||\| |||\/ |/|\| |||/| \|||| \/||| /\||| /||\| |||\/ ||||\ /|/|| ||\/| \|||| /||\| /|||| \|||/ \|/|| \|||| |\/|| |/|\| |||/\ ||/|| |\|/| |\||| \|/|| /||\| /|||| \||\/ |||/| |\||| ||\/| /|\|| |/||\ ||||| /\||| /\||/ \|||\ ||/|| \/||| |/||| |\||\ /|||| ||\/| |/|\| |/||\ ||||\ /|||| |\/|| ||/\| |||\/ |/|\| ||/|| \|\|/ |||\/ ||||/ |\||| ||\/| |/||| |\/|| \|||/ ||\|/ ||\|| ||/\| |/||| |\|/| ||\|/ |\||| |/|\| |||/\ ||/|| \|||| \/||| /|\|| /|\|| /|||| \|\|/ |||/| |\|/| |\||| /||\| |/||| \||/| \|/|| \|||/ ||\|/ ||\|| ||||\ /|||| /\||\ /|||| /|\|| ||\/| /\||| ||||\ /||/| |\||| |/\|/ ||\|| ||/|\ ||||/ \|/|\ ||||| /|\|| |||\/ ||\|/ |||/| \|||| |\/|/ |\||| |||/\ \|/|| ||||| \/||/ ||\\| /|||| |\/|| ||||\ /|/|\ |||/| |\||| \/||| /||\| ||/|| \||/| |\||| |/\|| \/||| |||\/ ||/|\ ||||/ \|||| |\/|/ |\||| /||\| \|/|| ||||/ \||/\ ||||| /|\|/ \|||| |/||\ ||/\| ||\|| /|||/ ||\|| \|/|| |/||\ ||||/ \|||| |\/|| ||\/| /|\|| /|||| \|||| \//\| |||/| |||\| |/|\| |||\/ ||/|| \|||\ /|||| ||/\| |\/|| |/|\| |||/| \|||| \/||/ |||\| |||/\ |/||| \|||| /\||| /\||| |\/|\ /|||| ||/|\ |||\/ ||/|| ||\|| ||\/| |||/\ ||\/| ||||\ /|||/ |\||| |/\|| |||\/ |/||\ |||\/ |||/| ||\|/ ||\|\ /|||| ||||\ /|||| /\\|/ ||||| \/||| /|||\ ||||/ \||/\ ||||/ \||\| /|||| ||/\| ||/|\ ||/|| |\/|| ||\|| ||\/| |/|\| ||||/ \|||/ \|||| \/|/| |||\| ||/\| /||\| |/||\ |||/| |\||/ |||\| |||/\ /||\| ||/|| \|||| |\/|/ |\||| /||\| ||/\| ||||| \/|/| \|||/ ||\|| ||/\| /|||| \|||| \/||\ |/||| ||/\| |\/|| |||\/ ||||| \/||| |\/|/ |\||| /||\| \||/| |||\| /|||/ |\||/ \|||| /\||| |||\/ |\|/| ||||\ /|||/ ||\|| /\||| \||/| |||\/ |||/| |\|/| |||\| /\||| ||/|\ ||||\ /||/| |\||| ||\/| /|\|| /|||| \|||| \/||| |\/|/ |\||| /||\| /|\|| |/||| |\||/ \|||/ ||\|| |/|\| |||\/ |\|/| ||\/| |||/| ||\|| |\/|| ||/|\ ||||/ \|/|\ ||||| /|\|| ||/\| /|\|| |/||| |\||| /\||/ ||\|| ||/\| /||\| ||||| \/||| |/\|| ||\/| /|\|| |/||\ |||/| \|||\ /||\/ ||||| /\||| /|||| \|||/ \|||| \/||| /|\|| |/||\ ||/\| |\||/ ||||| \/|\| /|||| ||\/| \/||| |||/| \||/| ||\|| /|\|| |||/\ |||/\ ||||\ /|/|| ||\|| \/||| /||\| |/||| \|||| /\||\ /|||| \/||| /||\| |/||| \|||| \/||| |\/|/ |\||/ ||||\ ||||\ /||\| /|||| |/\\| /|||| /\||| /||\| |/||| \||/| |\|/| |||\| \|/|| ||/|\ ||/|| |\||| |\/|| ||/\| |\/|| \||/| ||||| /\||/ ||\|| |\/|| |||/\ ||\/| ||||| \/||| \/|\/ ||||| |\/|| |/||\ ||\|/ |||/| |\||| |/\|| |||\/ ||/|\ ||||/ \|/|\ ||||| ||\/| /|\|| |/||\ |||/| |\||| |/\|| \/||| |||\/ |/|\| ||/|| |\||| |/\|| /\||| |/|\| |||/\ |/|\| ||/|| \|||| /|\|| ||\/| /|||| \|||\ /|||| |\/|/ ||\|| |\/|| ||/|\ ||||\ /|||| \/|\| /|||| |\/|| |/||\ ||/\| ||\|| /|||| /\||| |||/\ ||\/| ||/|| \|||/ |\||| /\||\ /|||| ||||/ \||\/ ||||| |\//| |||\| ||/\| ||||\ /|||| \/|/| \||/| |||\| ||/\| |/||\ ||||\ /|||| |\//| |||\/ |||\| |/\|| |||/| \|||| \/||/ |\||| |/|\| |||/\ |/|\| ||\/| ||||| \/||| |||/\ ||||/ \||/| |\||| |\/|/ |\||/ ||||\ ||||\ /|/|\ |||/| |\||| \/||| |\/|| /\||| |/||| |\||/ |\||| |\/|| /||\| ||\/| |||/| \|||| \/|/| ||\|| /||\| |/|\| |||/| \|||| /\|/| |\||| |/|\| ||||\ /"""

print(f'{len(text)} {len(text)/9}')

from collections import Counter

counter = Counter(text.split())

print(f'{len(counter)} unique symbols \n {counter} \n\n')


trilit_alphabet={
    "A": "AAA", "B": "AAB", "C": "AAC", "D": "ABA", "E": "ABB", "F": "ABC", 
    "G": "ACA", "H": "ACB", "I": "ACC", "J": "BAA", "K": "BAB", "L": "BAC", 
    "M": "BBA",   "N": "BBB", "O": "BBC", "P": "BCA", "Q": "BCB", "R": "BCC", 
    "S": "CAA", "T": "CAB", "U": "CAC", "V": "CBA",  "W": "CBB", "X": "CBC", 
    "Y": "CCA", "Z": "CCB"
}

triliteral_decoding = {v: k for k, v in trilit_alphabet.items()}

morse_code_dict = {
    'A': '.-', 'B': '-...', 'C': '-.-.', 'D': '-..', 'E': '.', 'F': '..-.', 'G': '--.', 'H': '....',
    'I': '..', 'J': '.---', 'K': '-.-', 'L': '.-..', 'M': '--', 'N': '-.', 'O': '---', 'P': '.--.',
    'Q': '--.-', 'R': '.-.', 'S': '...', 'T': '-', 'U': '..-', 'V': '...-', 'W': '.--', 'X': '-..-',
    'Y': '-.--', 'Z': '--..'
}
morse_decoding = {v: k for k, v in morse_code_dict.items()}

# missing letters c, j, q, v, z, 1, 2, 3, 4, 5, 6, 7
wheatstone_code_dict = { 
    'A': '/|||\\', 'B': '/||\\|', 'C': '||/||', 'D': '|/||\\', 'E': '/|\\||', 'F': '|/|\|', 'G': '||/|\\',
    'H': '/\\|||', 'I': '|/\\||', 'J': '|/|||', 'K': '||/\\|', 'L': '|||/\\', 'M': '\\/|||', 'N': '|\\/||',
    'O': '||\/|', 'P': '|||\/', 'Q': '||||\\', 'R': '\|/||', 'S': '|\|/|', 'T': '||\|/', 'U': '\||/|',
    'V': '||||/', 'W': '|\\||/', 'X': '/||||', 'Y': '\\|||/', 'Z': '|||||', '1': '\\||||', '2':'|\\||\\',
    '3':'/|||/', '4': '|\\|||', '5': '/\\|/|', '6': '\\||\\/', '7': '|||/|', '8': '/|\\|\\', '9': '//|||'    
}

wheatstone_decoding = {v: k for k, v in wheatstone_code_dict.items()}
#print(str(morse_decoding).replace("'","").replace(": ","="))

def decode_triliteral(encoded_message):
    encoded_message=encoded_message.replace('|', 'A').replace('\\','B').replace('/','C')

    trilit_letters=[encoded_message[i:i+3] for i in range(0, len(encoded_message), 3)]
    decoded_message=[]
    for triad in trilit_letters:
        letter = triliteral_decoding[triad]
        decoded_message.append(letter)
    return ''.join(decoded_message)

def decode_morse(encoded_message):
    encoded_message=encoded_message.replace('|', '-').replace('\\','.').replace('/','x')

    morse_letters=encoded_message.split('x')
    decoded_message=[]
    for dida in morse_letters:
        letter = morse_decoding[dida]
        print(f'{letter} ({dida}), ', end='')

        decoded_message.append(letter)
    return ''.join(decoded_message)

def decode_variable_length_morse(encoded_message, word_break_marker='x'):
    cipher_text=encoded_message.replace('|', '-').replace('\\','.').replace('/','x')

    decoded_text = []
    if word_break_marker:
        words = cipher_text.split(word_break_marker)
    else:
        words = [cipher_text]

    for word in words:
        i = 0
        decoded_word = []

        while i < len(word):
            matched = False
            for length in range(len(word) - i, 0, -1):
                segment = word[i:i + length]
                if segment in morse_decoding:
                    decoded_word.append(morse_decoding[segment])
                    i += length
                    matched = True
                    break
            if not matched:
                raise ValueError(f"Unmatched segment starting at position {i}: '{word[i:]}'")
        decoded_text.append(''.join(decoded_word))
    return ' '.join(decoded_text)

def decode_wheatstone(encoded_message):
    #encoded_message=encoded_message.replace('|', '-').replace('\\','.').replace('/','x')

    wheatstone_letters=encoded_message.split(' ')
    decoded_message=[]
    for dida in wheatstone_letters:
        letter = wheatstone_decoding[dida]
        print(f'{letter} ({dida}), ', end='')

        decoded_message.append(letter)
    return ''.join(decoded_message)

def calculate_letter_frequency(text):
    filtered_text = ''.join(filter(str.isalpha, text)).lower()
    frequency = Counter(filtered_text)
    return dict(sorted(frequency.items(), key=lambda item: item[1], reverse=True))

if __name__ == "__main__":
    _text=text #.replace(' ','')

    decoded_message = decode_wheatstone(_text)
    frequencies = calculate_letter_frequency(decoded_message)

    print(f' --- {decoded_message}')
    print(str(frequencies).replace("'","").replace(": ","="))
